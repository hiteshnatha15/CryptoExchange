<!doctype html>
<html lang="en">

<head>
    <title>OneXCrypto</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        in</svg>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymousous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="assets/img/style.css">
</head>

<style>
   .padd-30{
    padding-left: 30px;
   }
</style>

<body class="">
    <div class="main">

        <div class="d-flex justify-content-end mt-3 user-main">
            <span class="mx-3 "><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M440-120v-80h320v-284q0-117-81.5-198.5T480-764q-117 0-198.5 81.5T200-4</a>84v244h-40q-33 0-56.5-23.5T80-320v-80q0-21 10.5-39.5T120-469l3-53q8-68 39.5-126t79-101q47.5-43 109-67T480-840q68 0 129 24</svg>t109 66.5Q76</svg>6-707 797-649t40 126l3 52q19 9 29.5 27t10.5 38v92q0 20-10.5 38T840-249v49q0 33-23.5 56.5T760-120H440Zm-80-280q-17 0-28.5-11.5T320-440q0-17 11.5-28.5T360-480q17 0 28.5 11.5T400-440q0 17-11.5 28.5T360-400Zm240 0q-17 0-28.5-11.5T560-440q0-17 11.5-28.5T600-480q17 0 28.5 11.5T640-440q0 17-11.5 28.5T600-400Zm-359-62q-7-106 64-182t177-76q89 0 156.5 56.5T720-519q-91-1-167.5-49T435-698q-16 80-67.5 142.5T241-462Z"/></svg></span>
            <span class="mx-3"><a href="setting.html"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/></svg></a></span>
        </div>
        <div class="container user-main">
            <div class="user">
                <img src="assets/img/avatar-character-isolated-icon-free-vector.jpg" alt="" width="100px">
                <h5 id="mobileNumberDisplay"></h5>
                
            </div>
            <div class="total mt-4">
                <p>Total Amount($) <br><strong id="total-amount">0</strong></p>
                <p>Available($)<br><strong id="available-amount">0</strong></p>
                <p>Progressing($)<br><strong id="progressing-amount">0</strong></p>
            </div>
        </div>


        <!-- <div class="exchange-section1"> -->
            <div class="container exchange-section1">
                <div class="row">
                    <div class="col-12 d-flex">
                        <div class="payx pb-2">
                            <img src="assets/img/images.png" alt="" >
                        </div>
                        <div class="payx-3">
                            <span class="text-warning payx1 ">0PAYX</span><br>
                            <span class="payx-usdt">1PAXY=0.011109USDT <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg></span>
                        </div>
                        <div class="padd-30">
                            <a href="#" type="button" class="user-withdraw-button">Withdraw</a>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <a href="#" type="button" class="user-button">To OneXCrypto Pro</a>
                </div>
            </div>
        <!-- </div> -->


        <div class="exchange-section2 mt-2  ">
            <div class="container">
                <div class="row">
                    <div class="col-12 d-flex justify-content-between">
                        <div>
                            <span>Exchange</span><br>
                            <span>$0</span>
                        </div>
                        <div class="border-end">
                            <span>Reward <i class="fa-solid fa-circle-xmark text-warning"></i></span><br>
                            <span>$0</span>
                        </div>
                        <div class="border-start border-2 border-primary">
                            <a href="Details.html" type="button" class="bg-dark text-white p-2 rounded-pill user-detail-button">Details</a><br>
                            <span style="font-size: 12px;"><script>
                                document.write(new Date().toLocaleDateString());
                            </script></span>
                        </div>

                    </div>
                </div>
            </div>
            <!-- <div class="container-fluid ">
                <div class="row ">
                    <div class="col-12 py-3 d-flex justify-content-between">
                        <div class="d-flex justify-content-between">
                          <div><p>Exchange <br><strong>$0</strong></p></div>
                           <div><p>Reward<br><strong>0</strong></p></div>
                            </div>

                            <div class="beut  ">
                                <a href="">Details</a>
                                <p>03September</p>

                            </div>

                    </div>
                </div>
            </div> -->
        </div>
        <div class="container bg-white">
            <div class="row">
                <div class="col-12">
                    <div class="refer-input mb-1 mt-2">
                        <p><svg xmlns="http://www.w3.org/2000/svg" height="20px" class="user-svg1"
                                viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                <path
                                    d="M40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm720 0v-120q0-44-24.5-84.5T666-434q51 6 96 20.5t84 35.5q36 20 55 44.5t19 53.5v120H760ZM360-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm400-160q0 66-47 113t-113 47q-11 0-28-2.5t-28-5.5q27-32 41.5-71t14.5-81q0-42-14.5-81T544-792q14-5 28-6.5t28-1.5q66 0 113 47t47 113ZM120-240h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0 320Zm0-400Z" />
                            </svg>Referrals</p>
                        <a href="Referrals.html"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                            fill="#5f6368">
                            <path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z" />
                        </svg></a>
                    </div>

                    <div class="refer-input mb-1">
                        <p ><svg xmlns="http://www.w3.org/2000/svg" height="20px" class="user-svg1 "
                                viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                <path
                                    d="M160-240v-320 13-173 480Zm0-400h640v-80H160v80Zm307 480H160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v210q-36-25-78-37.5T716-560q-54 0-104 21t-88 59H160v240h283q3 21 9 41t15 39Zm320-25 28-28-75-75v-112h-40v128l87 87ZM721-80q-84 0-142.5-58T520-280q0-84 58.5-142T721-480q83 0 141 58.5T920-280q0 83-58 141.5T721-80Z" />
                            </svg>Exchange history</p>
                        <a href="ExchangeHistory.html"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                            fill="#5f6368">
                            <path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z" />
                        </svg></a>
                    </div>
                    <div class="refer-input mb-1">
                        <p><svg xmlns="http://www.w3.org/2000/svg" height="20px" class="user-svg1"
                                viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                <path
                                    d="M240-360h280l80-80H240v80Zm0-160h240v-80H240v80Zm-80-160v400h280l-80 80H80v-560h800v120h-80v-40H160Zm756 212q5 5 5 11t-5 11l-36 36-70-70 36-36q5-5 11-5t11 5l48 48ZM520-120v-70l266-266 70 70-266 266h-70ZM160-680v400-400Z" />
                            </svg>Statement</p>
                        <a href="Statement.html"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                            fill="#5f6368">
                            <path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z" />
                        </svg></a>
                    </div>
                    <div class="refer-input mb-1">
                        <p><svg xmlns="http://www.w3.org/2000/svg" height="20px" class="user-svg1"
                                viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                <path
                                    d="M200-200v-560 560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v100h-80v-100H200v560h560v-100h80v100q0 33-23.5 56.5T760-120H200Zm320-160q-33 0-56.5-23.5T440-360v-240q0-33 23.5-56.5T520-680h280q33 0 56.5 23.5T880-600v240q0 33-23.5 56.5T800-280H520Zm280-80v-240H520v240h280Zm-160-60q25 0 42.5-17.5T700-480q0-25-17.5-42.5T640-540q-25 0-42.5 17.5T580-480q0 25 17.5 42.5T640-420Z" />
                            </svg>Bank Account</p>
                       <a href="BankAccount.html"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                            fill="#5f6368">
                            <path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z" />
                        </svg></a>
                    </div>
                    <div class="refer-input mb-1">
                        <p> <svg xmlns="http://www.w3.org/2000/svg" height="20px" class="user-svg1"
                                viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                <path
                                    d="m480-920 362 216q18 11 28 30t10 40v434q0 33-23.5 56.5T800-120H160q-33 0-56.5-23.5T80-200v-434q0-21 10-40t28-30l362-216Zm0 466 312-186-312-186-312 186 312 186Zm0 94L160-552v352h640v-352L480-360Zm0 160h320-640 320Z" />
                            </svg>Invite Friends</p>
                            <a href="invite.html"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                            fill="#5f6368">
                            <path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z" />
                        </svg></a>
                        
                        
                    </div>
                    <footer >
                        <div class="container">
                            <div class="row">
                                <div class="col-4 text-center mt-3">
                                    <a href="index.html">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                            <path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/>
                                        </svg>
                                        <p>Home</p>
                                    </a>
                                </div>
                                <div class="col-4 text-center mt-3">
                                    <a href="exchange.html">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#5f6368">
                                            <path d="M280-160 80-360l200-200 56 57-103 103h287v80H233l103 103-56 57Zm400-240-56-57 103-103H440v-80h287L624-743l56-57 200 200-200 200Z"/>
                                        </svg>
                                        <p>Exchange</p>
                                    </a>
                                </div>
                                <div class="col-4 text-center mt-3">
                                    <a href="mine.html">
                                        <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        height="20px"
                                        viewBox="0 -960 960 960"
                                        width="20px"
                                        fill="#5f6368"
                                      >
                                        <path
                                          d="M477-80q-42 0-81.5-9T324-112q-46-20-75-48.5T220-224v-231q0-31 23.5-57t60.5-46q38-20 83.5-31t92.5-11q47 0 92.5 11t83.5 31q38 20 61 46t23 57v231q0 17-7.5 33T711-161q-14 14-32.5 26.5T637-112q1-5 3-28 0-58-41-99t-99-41q-43 0-76 23t-50 59q32 8 58.5 11t46.5 3q17 0 27.5-1t13.5-1v104q-11 1-21.5 1.5T477-80Zm123-220q33 0 56.5-23.5T680-380q0-33-23.5-56.5T600-460q-33 0-56.5 23.5T520-380q0 33 23.5 56.5T600-300ZM480-640q50 0 85-34.5t35-85.5q0-50-35-85t-85-35q-51 0-85.5 35T360-760q0 51 34.5 85.5T480-640Z"
                                        />
                                      </svg>
                                        <p>Mine</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </footer>
                    
                </div>
                
            </div>
        </div>
        
    </div>
    <script>
        async function authenticate(){
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = 'loginform.html';
                return;
            }
            const response = await fetch('https://onexcrypto.xyz/api/authUser', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
            });
            const result = await response.json();
            if (!result.success) {
                window.location.href = 'loginform.html';
            }
            else{
                getUserDetails();
            }
        }
        
        function getUserDetails() {
            const token = localStorage.getItem('token');
            if (!token) {
                alert("Please login again");
                window.location.href = 'loginform.html';
                return;
            }
            fetch('https://onexcrypto.xyz/api/getUserDetails', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${localStorage.getItem('token')}`
                },
            })
            .then(response => response.json())
            .then(result => {
                if (result.success) {
                    // alert(`Deposit address generated successfully: ${result.address}`);
                    document.getElementById('mobileNumberDisplay').textContent = result.userDetails.mobile ? result.userDetails.mobile : '';
                    document.getElementById('total-amount').textContent = result.userDetails.balances.bep20 + result.userDetails.balances.trc20+result.userDetails.balances.processing; // Total
                    document.getElementById('available-amount').textContent =  result.userDetails.balances.bep20 + result.userDetails.balances.trc20+result.userDetails.balances.processing- result.userDetails.balances.processing// Available (example)
                    document.getElementById('progressing-amount').textContent = result.userDetails.balances.processing; // Progressing (example)

                } else {
                    alert('Error: ' + result.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert(error);
            });
        }
        window.onload = function() {
            authenticate();
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous">
    </script>
</body>

</html> 